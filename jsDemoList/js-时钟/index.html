<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>时钟效果</title>
    <!-- 运动库引入 -->
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        #box{
            width: 152px;
            height: 27px;
            overflow: hidden;
            margin:50px auto;
            position: relative;
        }
        #box ul{
            float: left;
        }
        #box ul li{
            width: 16px;
            height: 25px;
            border: 1px solid #ee08cf;
            background: #040255;
            color: #fff;
            text-align: center;
            line-height: 25px;
            margin-left: 1px;
        }
    </style>
    <script src="1.tween.js"></script>
    <script>
        window.onload=function(){
            // 2-2：加0封装
            function toDoe(n){
                return n<10?'0'+n:''+n;
            }


            var oBox=document.getElementById('box');
            var aUL=oBox.getElementsByTagName('ul');
            var aPors=[];
            //1：布局转换
            //1-1：获取所有ul距离父级顶部的位置并保存
            for(var i=0; i<aUL.length; i++){
                aPors.push({left:aUL[i].offsetLeft,top:aUL[i].offsetTop});
                // console.log(aPors);
            }
            //1-2：设置定位才能让它动起来
            for(var i=0; i<aPors.length; i++){
                aUL[i].style.position='absolute';
                aUL[i].style.top=aPors[i].top + 'px';
                aUL[i].style.left=aPors[i].left + 'px';
            }

            // 2：获取当前时间
            function clock(){
                var oDate=new Date();
                var oS=oDate.getSeconds();
                var oH=oDate.getHours();
                var oM=oDate.getMinutes();
                var str=toDoe(oH)+''+toDoe(oM)+''+toDoe(oS);
                

                var iNow=0;
                // 2-1：绑定运动
                for(var i=0; i<aUL.length; i++){
                    //遇到 ':'跳过
                    if(aUL[i].className=="ac")continue;
                    // 改变top值，从0开始运动
                    doMove(aUL[i],{top:-str.charAt(iNow)*27}); 
                    iNow++;
                }
            }
            clock();
            // 设置计时器，开始运动
            setInterval(clock,1000);
        }
    </script>
</head>
<body>
    <div id="box">
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
        <ul class="ac">
            <li>:</li>
        </ul>
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
        <ul class="ac">
            <li>:</li>
        </ul>
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
        <ul class="ul1">
            <li>0</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
        </ul>
    </div>
</body>
</html>